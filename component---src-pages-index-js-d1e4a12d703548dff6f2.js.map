{"version":3,"file":"component---src-pages-index-js-d1e4a12d703548dff6f2.js","mappings":"wLAGmD,IAE7CA,EAAa,SAAAC,GACf,SAAAD,EAAYE,GAAO,IAADC,EAId,GAHAA,EAAAF,EAAAG,KAAA,KAAMF,IAAK,KAGW,oBAAXG,OAAwB,CACjC,MAAM,MAAEC,EAAK,eAAEC,GAAmBL,EAAKM,KAAKC,KAAKC,aAAaC,UACxDC,GAAUC,EAAAA,EAAAA,gBAAeC,OAAOC,KAAKT,GAAQC,GAC7CS,GAAUC,EAAAA,EAAAA,IAAW,IAAIL,EAAO,MAStCM,EAAAA,EAAAA,IAASF,EACX,CAAC,OAAAb,CACL,CAMC,OAzBcgB,EAAAA,EAAAA,GAAAnB,EAAAC,GAmBdD,EAAAoB,UAEDC,OAAA,WACE,OACEC,EAAAA,cAAA,WAEJ,EAACtB,CAAA,CAzBc,CAASsB,EAAAA,eA4B5B,W","sources":["webpack://gatsby-starter-default/./src/pages/index.js"],"sourcesContent":["import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport { getUserLangKey } from 'ptz-i18n';\r\nimport { withPrefix, navigate } from \"gatsby-link\";\r\n\r\nclass RedirectIndex extends React.PureComponent {\r\n    constructor(args) {\r\n        super(args);\r\n\r\n        // Skip build, Browsers only\r\n        if (typeof window !== 'undefined') {\r\n          const { langs, defaultLangKey } = args.data.site.siteMetadata.languages;\r\n          const langKey = getUserLangKey(Object.keys(langs), defaultLangKey);\r\n          const homeUrl = withPrefix(`/${langKey}/`);\r\n\r\n          // I don`t think this is the best solution\r\n          // I would like to use Gatsby Redirects like:\r\n          // https://github.com/gatsbyjs/gatsby/tree/master/examples/using-redirects\r\n          // But Gatsby Redirects are static, they need to be specified at build time,\r\n          // This redirect is dynamic, It needs to know the user browser language.\r\n          // Any ideias? Join the issue: https://github.com/angeloocana/gatsby-starter-default-i18n/issues/4\r\n          // window.___history.replace(homeUrl);\r\n          navigate(homeUrl);\r\n        }\r\n    }\r\n\r\n    render() {\r\n      return (\r\n        <div />\r\n      );\r\n    }\r\n}\r\n\r\nexport default RedirectIndex;\r\n\r\nexport const pageQuery = graphql`\r\n  query IndexQuery {\r\n    site{\r\n      siteMetadata{\r\n        languages {\r\n          defaultLangKey\r\n          langs{\r\n            ru,\r\n            en\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;"],"names":["RedirectIndex","_React$PureComponent","args","_this","call","window","langs","defaultLangKey","data","site","siteMetadata","languages","langKey","getUserLangKey","Object","keys","homeUrl","withPrefix","navigate","_inheritsLoose","prototype","render","React"],"sourceRoot":""}